"use strict";angular.module("ngGPlaces",[]),angular.module("ngGPlaces").value("gPlaces",google.maps.places),angular.module("ngGPlaces").value("gMaps",google.maps),angular.module("ngGPlaces").provider("ngGPlacesAPI",function(){var e={radius:1e3,sensor:!1,latitude:null,longitude:null,types:["food"],map:null,elem:null,nearbySearchKeys:["name","reference","vicinity"],placeDetailsKeys:["formatted_address","formatted_phone_number","reference","website"],nearbySearchErr:"Unable to find nearby places",placeDetailsErr:"Unable to find place details",_nearbySearchApiFnCall:"nearbySearch",_placeDetailsApiFnCall:"getDetails"},a=function(e,a){var n=[],r=a.nearbySearchKeys;return e.map(function(e){var a={};angular.forEach(r,function(n){a[n]=e[n]}),n.push(a)}),n},n=function(e,a){var n={},r=a.placeDetailsKeys;return angular.forEach(r,function(a){n[a]=e[a]}),n};this.$get=function(r,l,t,c){function i(a){function n(e,a){return a==t.PlacesServiceStatus.OK?o.resolve(i._parser(e,i)):void o.reject(i._errorMsg)}var i=angular.copy(e,{});angular.extend(i,a);var s,u,o=r.defer();return i._genLocation&&(i.location=new l.LatLng(i.latitude,i.longitude)),s=i.map?i.map:i.elem?i.elem:c.document.createElement("div"),u=new t.PlacesService(s),u[i._apiFnCall](i,n),o.promise}return{getDefaults:function(){return e},nearbySearch:function(n){return n._genLocation=!0,n._errorMsg=e.nearbySearchErr,n._parser=a,n._apiFnCall=e._nearbySearchApiFnCall,i(n)},placeDetails:function(a){return a._errorMsg=e.placeDetailsErr,a._parser=n,a._apiFnCall=e._placeDetailsApiFnCall,i(a)}}},this.$get.$inject=["$q","gMaps","gPlaces","$window"],this.setDefaults=function(a){angular.extend(e,a)}});